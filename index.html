<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/base-min.css"
    />
    <link rel="stylesheet" type="text/css" href="./src/style.css" />
    <title>WebGIMP</title>
  </head>
  <body>
    <div class="top-menu">
      <div class="dropdown">
        <button class="dropbtn">File</button>
        <div class="dropdown-content">
          <a href="#">New</a>
          <a id="load-image-btn" href="#">Open</a>
          <a href="#">Save</a>
        </div>
      </div>
      <div class="dropdown">
        <button class="dropbtn">Edit</button>
        <div class="dropdown-content">
          <a href="#">Undo</a>
          <a href="#">Redo</a>
        </div>
      </div>
    </div>

    <div class="workspace">
      <div class="menu tools">
        <div class="tools-row">
          <button id="negative-filter-btn" class="tool-button">Negative</button>
        </div>
        <div class="tools-row">
          <button id="grayscale-filter-btn" class="tool-button">
            Grayscale
          </button>
        </div>
        <div class="tools-row">
          <button id="correction-filter-btn" class="tool-button">
            Corrections
          </button>
        </div>
        <div class="tools-row">
          <button  id="histogram-btn" class="tool-button dropdown-menu-button">Histogram</button>
          <div id="histogram-menu" class="dropdown-tools-menu hidden">
            <button id="histogram-streching-btn" class="tool-button">Streching</button>
            <button id="histogram-equalization-btn" class="tool-button">Equalization</button>
          </div>
        </div>
        <div class="tools-row">
          <button id="blur-button" class="tool-button dropdown-menu-button">Blur</button>
          <div id="blur-menu" class="dropdown-tools-menu hidden">
            <button id="blur-btn" class="tool-button">Base</button>
            <button id="gaussian-blur-btn" class="tool-button">Gaussian</button>
            <button id="linear-blur-btn" class="tool-button">Linear</button>
          </div>
        </div>
        <div class="tools-row">
          <button id="edges-button" class="tool-button dropdown-menu-button">Edges</button>
          <div id="edges-menu" class="dropdown-tools-menu hidden">
            <button id="edge-roberts-btn" class="tool-button">Roberts</button>
            <button id="edge-prewitt-btn" class="tool-button">Prewitt</button>
            <button id="edge-sobel-btn" class="tool-button">Sobel</button>
            <button id="edge-laplacian-btn" class="tool-button">Laplacian</button>
            <button id="edge-zero-btn" class="tool-button">Zero</button>
            <button id="edge-canny-btn" class="tool-button">Canny</button>
            <button id="edge-hough-transform-btn" class="tool-button">Hough</button>
          </div>
        </div>
        <div class="tools-row">
          <button id="binarisation-button" class="tool-button dropdown-menu-button">Binarisation</button>
          <div id="binarisation-menu" class="dropdown-tools-menu hidden">
            <button id="binarisation-manual-btn" class="tool-button">Manual</button>
            <button id="binarisation-gradient-btn" class="tool-button">Gradient</button>
            <!-- <button id="binarisation-iterativeBimodal-btn" class="tool-button">Bimodal</button>
            <button id="binarisation-otsu-btn" class="tool-button">Otsu</button>
            <button id="binarisation-niblack-btn" class="tool-button">Niblack</button> -->
          </div>
        </div>
        <div class="tools-row">
          <button id="segmentation-button" class="tool-button dropdown-menu-button">Segmentation</button>
          <div id="segmentation-menu" class="dropdown-tools-menu hidden">
            <button id="segmentation-watershed-btn" class="tool-button">Watershed</button>
          </div>
        </div>
        <div class="tools-row">
          <button id="characteristics-button" class="tool-button dropdown-menu-button">Characteristics</button>
          <div id="characteristics-menu" class="dropdown-tools-menu hidden">
            <button id="characteristics-corners-btn" class="tool-button">Corners- Harris</button>
          </div>
        </div>
      </div>

        
        <div>
          <canvas id="canvas"></canvas>
          <button id="download-img-btn" class="tool-button">Download</button>
        </div>
        <!-- <div>
          <canvas id="debug-canvas"></canvas>
          <button id="download-debug-img-btn" class="tool-button">Download</button>
        </div> -->

      <div class="menu details">
        <div id="correction-details" class="details-row correction-details">
          <div class="detail brightness">
            <label class="detail-title">Brightness</label>
            <div class="detail-range">
              <input
                id="brightness-range"
                type="range"
                min="-100"
                value="0"
                max="100"
                step="1"
              />
              <span id="brightness-value" class="range-value">0</span>
            </div>
          </div>
          <div class="detail contrast">
            <label class="detail-title">Contrast</label>
            <div class="detail-range">
              <input
                id="contrast-range"
                type="range"
                min="0"
                value="1"
                max="2"
                step="0.01"
              />
              <span id="contrast-value" class="range-value">0</span>
            </div>
          </div>
          <div class="detail gamma">
            <label class="detail-title">Gamma</label>
            <div class="detail-range">
              <input
                id="gamma-range"
                type="range"
                min="0"
                value="1"
                max="2"
                step="0.01"
              />
              <span id="gamma-value" class="range-value">0</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="histogram" class="histogram">
      <canvas id="canvasHistogram"></canvas>
      <div>
        <button id="avoidRed" class="channelButton" data-channel="R">
          Red
        </button>
        <button id="avoidGreen" class="channelButton" data-channel="G">
          Green
        </button>
        <button id="avoidBlue" class="channelButton" data-channel="B">
          Blue
        </button>
        <button id="avoidLuminocity" class="channelButton" data-channel="L">
          Luminocity
        </button>
      </div>
    </div>
    <div id="app"></div>
    <script type="module" src="/src/app.ts"></script>
  </body>
</html>
